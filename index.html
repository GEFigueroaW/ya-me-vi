<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>YA ME VI</title>

  <!-- Bulma CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css" />
  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <!-- Estilos personalizados -->
  <link rel="stylesheet" href="css/styles.css" />
  <!-- TensorFlow.js -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.15.0/dist/tf.min.js"></script>
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="js/firebase-init.js"></script>
  <script src="js/auth-protect.js"></script>
  <!-- Chart.js (debe ir antes de main.js) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <!-- NAV -->
  <nav class="navbar is-light">
    <div class="navbar-brand">
      <span class="navbar-item has-text-weight-bold">YA ME VI</span>
    </div>
    <div class="navbar-end pr-4">
      <span class="navbar-item" id="userName"></span>
      <button class="button is-danger is-small navbar-item" id="logoutBtn">Cerrar sesi칩n</button>
    </div>
  </nav>

  <!-- CONTENIDO -->
  <section class="section">
    <div class="container">
      <h1 class="title has-text-centered">游댌 YA ME VI</h1>

      <!-- Selecci칩n de sorteo -->
      <div class="field">
        <label class="label">Selecciona el sorteo:</label>
        <div class="control">
          <div class="select">
            <select id="gameSelect">
              <option value="melate">Melate</option>
              <option value="revancha">Revancha</option>
              <option value="revanchita">Revanchita</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Bot칩n de an치lisis -->
      <div class="buttons is-centered mt-3">
        <button class="button is-primary" id="analyzeBtn">Analizar 칰ltimos 50 sorteos</button>
      </div>

      <!-- Resultados del an치lisis -->
      <div id="analysisResults" class="box is-hidden animate__animated animate__fadeIn"></div>

      <!-- Gr치ficos de frecuencia y retraso -->
      <div id="chartSection" class="is-hidden">
        <h2 class="subtitle mt-4 has-text-weight-semibold">游늵 Visualizaci칩n estad칤stica:</h2>
        <div class="box">
          <canvas id="frecuenciaChart" height="120"></canvas>
        </div>
        <div class="box">
          <canvas id="retrasoChart" height="120"></canvas>
        </div>
        <p class="has-text-info has-text-weight-medium mt-2">游대 <strong>Paradoja interesante:</strong> Algunos n칰meros como el <strong>21</strong> aparecen tanto entre los m치s frecuentes como entre los m치s retrasados.</p>
      </div>

      <!-- Entrada manual -->
      <div id="userInputSection" class="box mt-5">
        <h2 class="subtitle">游댝 Ingresa tu combinaci칩n de 6 n칰meros:</h2>
        <div class="field is-grouped is-grouped-multiline" id="numberInputs">
          <input class="input is-small" type="number" min="1" max="56" />
          <input class="input is-small" type="number" min="1" max="56" />
          <input class="input is-small" type="number" min="1" max="56" />
          <input class="input is-small" type="number" min="1" max="56" />
          <input class="input is-small" type="number" min="1" max="56" />
          <input class="input is-small" type="number" min="1" max="56" />
        </div>
        <div class="buttons mt-3">
          <button class="button is-info" id="checkCombinationBtn">Ver probabilidad</button>
          <button class="button is-warning" id="clearBtn">Limpiar campos</button>
        </div>
        <div id="combinationResult" class="mt-4"></div>
      </div>

      <!-- Sugerencia IA -->
      <div id="suggestedComboSection" class="box is-hidden">
        <h2 class="subtitle">游꿢 Sugerencia basada en an치lisis + IA:</h2>
        <p id="suggestedCombo" class="has-text-weight-semibold is-size-4"></p>
      </div>
    </div>
  </section>

  <!-- Scripts funcionales -->
  <script src="js/config.js"></script>
  <script src="js/dataParser.js"></script>
  <script src="js/mlPredictor.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
