<!DOCTYPE html>
<html>
<head>
    <title>üéØ Generador de Icono iOS - SIN MARCO BLANCO</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .container { 
            max-width: 600px; 
            margin: 0 auto; 
            background: rgba(255,255,255,0.1); 
            padding: 30px; 
            border-radius: 15px; 
            backdrop-filter: blur(10px);
        }
        canvas { 
            border: 3px solid #fff; 
            margin: 20px 0; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        button { 
            background: #00B44F; 
            color: white; 
            border: none; 
            padding: 15px 30px; 
            border-radius: 8px; 
            margin: 10px; 
            cursor: pointer; 
            font-size: 16px;
            box-shadow: 0 5px 15px rgba(0,180,79,0.3);
        }
        button:hover { 
            background: #008f3f; 
            transform: translateY(-2px);
        }
        .info { 
            background: rgba(255,255,255,0.1); 
            padding: 20px; 
            border-radius: 10px; 
            margin: 20px 0; 
            border-left: 4px solid #00B44F;
        }
        .preview-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .preview-item {
            text-align: center;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ GENERADOR DE ICONO iOS DEFINITIVO</h1>
        <h2>üö´ GARANT√çA: SIN MARCO BLANCO</h2>
        
        <div class="info">
            <h3>üîç PROBLEMA IDENTIFICADO:</h3>
            <p>iOS a√±ade marco blanco cuando detecta <strong>cualquier pixel transparente</strong> en el icono.</p>
            <p>Este generador crea un icono <strong>100% opaco</strong> p√≠xel por p√≠xel.</p>
        </div>

        <div class="preview-grid">
            <div class="preview-item">
                <h4>üì± Icono Principal (180x180)</h4>
                <canvas id="mainCanvas" width="180" height="180"></canvas>
            </div>
            <div class="preview-item">
                <h4>üîç Vista Previa iOS</h4>
                <div style="background: #f0f0f0; padding: 10px; border-radius: 10px;">
                    <canvas id="previewCanvas" width="60" height="60" style="border-radius: 13px;"></canvas>
                </div>
            </div>
        </div>
        
        <div style="text-align: center;">
            <button onclick="generarIcono()" style="font-size: 18px;">üé® GENERAR ICONO SIN MARCO</button>
            <button onclick="descargarIcono()" style="background: #FF6B35;">üíæ DESCARGAR PNG</button>
        </div>

        <div class="info">
            <h3>‚úÖ ESPECIFICACIONES T√âCNICAS:</h3>
            <ul>
                <li><strong>Tama√±o:</strong> 180x180 p√≠xeles (est√°ndar iOS)</li>
                <li><strong>Formato:</strong> PNG con canal alfa 100% opaco</li>
                <li><strong>Fondo:</strong> Verde s√≥lido #00B44F (sin transparencia)</li>
                <li><strong>Compatibilidad:</strong> iOS 7+ / Safari PWA</li>
            </ul>
        </div>

        <div class="info">
            <h3>üìã INSTRUCCIONES DE INSTALACI√ìN:</h3>
            <ol>
                <li>Haz clic en "GENERAR ICONO SIN MARCO"</li>
                <li>Haz clic en "DESCARGAR PNG"</li>
                <li>Reemplaza el archivo <code>assets/apple-touch-icon.png</code></li>
                <li><strong>IMPORTANTE:</strong> Elimina completamente la PWA del iPhone</li>
                <li>Vuelve a agregar la PWA desde Safari</li>
                <li>¬°El marco blanco habr√° desaparecido!</li>
            </ol>
        </div>
    </div>

    <script>
        function generarIcono() {
            console.log('üé® Generando icono iOS sin transparencia...');
            
            // Canvas principal 180x180
            const mainCanvas = document.getElementById('mainCanvas');
            const mainCtx = mainCanvas.getContext('2d');
            
            // Canvas preview 60x60
            const previewCanvas = document.getElementById('previewCanvas');
            const previewCtx = previewCanvas.getContext('2d');
            
            // Generar icono principal
            generateIcon(mainCtx, 180, 24);
            
            // Generar preview
            generateIcon(previewCtx, 60, 8);
            
            console.log('‚úÖ Icono generado sin transparencia');
        }
        
        function generateIcon(ctx, size, fontSize) {
            // FONDO COMPLETAMENTE OPACO
            ctx.fillStyle = '#00B44F';
            ctx.fillRect(0, 0, size, size);
            
            // Verificar que no hay transparencia
            ctx.globalAlpha = 1.0;
            
            // TEXTO BLANCO
            ctx.fillStyle = '#FFFFFF';
            ctx.font = `bold ${fontSize}px Arial`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            // Calcular posiciones para 3 l√≠neas
            const lineHeight = fontSize + 2;
            const centerY = size / 2;
            const startY = centerY - lineHeight;
            
            // Dibujar texto l√≠nea por l√≠nea
            ctx.fillText('YA', size / 2, startY);
            ctx.fillText('ME', size / 2, centerY);
            ctx.fillText('VI', size / 2, startY + lineHeight * 2);
        }
        
        function descargarIcono() {
            const canvas = document.getElementById('mainCanvas');
            
            // Crear enlace de descarga
            const link = document.createElement('a');
            link.download = 'apple-touch-icon.png';
            link.href = canvas.toDataURL('image/png');
            link.click();
            
            console.log('üíæ Icono descargado como apple-touch-icon.png');
            
            // Mostrar instrucciones
            alert(`üéâ ¬°ICONO DESCARGADO!

üìÇ Reemplaza el archivo en: assets/apple-touch-icon.png

üì± PASOS CR√çTICOS:
1. Elimina completamente la PWA "YA ME VI" del iPhone
2. Abre Safari y ve a tu sitio
3. Agrega nuevamente a pantalla de inicio

üö´ El marco blanco deber√≠a desaparecer completamente.`);
        }
        
        // Generar icono autom√°ticamente al cargar
        window.onload = function() {
            generarIcono();
        }
        
        // Informaci√≥n de debug
        console.log('üîß Generador de Icono iOS cargado');
        console.log('üéØ Objetivo: Eliminar marco blanco completamente');
    </script>
</body>
</html>
