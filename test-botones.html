<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test Combinaci√≥n</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
</head>
<body class="bg-gray-100 p-8">
  <h1 class="text-2xl font-bold mb-8">üß™ Test de Botones - Combinaci√≥n</h1>
  
  <!-- Test acorde√≥n simple -->
  <div class="bg-white rounded-lg shadow-lg mb-6">
    <h2 id="trigger-numero-individual" class="bg-blue-500 text-white p-4 cursor-pointer hover:bg-blue-600">
      üîç Test: N√∫mero Individual (Click para abrir)
      <svg class="w-5 h-5 inline-block float-right transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </h2>
    <div id="content-numero-individual" class="p-4 hidden">
      <p class="mb-4">Ingresa un n√∫mero del 1 al 56:</p>
      <div class="flex gap-3 items-center mb-4">
        <input type="number" id="numero-individual" class="border border-gray-300 rounded px-3 py-2 w-20" min="1" max="56">
        <button id="evaluar-numero-btn" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
          Evaluar
        </button>
      </div>
      <div id="resultado-numero" class="mt-4"></div>
    </div>
  </div>
  
  <!-- Test acorde√≥n combinaci√≥n -->
  <div class="bg-white rounded-lg shadow-lg mb-6">
    <h2 id="trigger-combinacion" class="bg-purple-500 text-white p-4 cursor-pointer hover:bg-purple-600">
      üîç Test: Combinaci√≥n (Click para abrir)
      <svg class="w-5 h-5 inline-block float-right transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </h2>
    <div id="content-combinacion" class="p-4 hidden">
      <p class="mb-4">Ingresa 6 n√∫meros del 1 al 56:</p>
      <div class="grid grid-cols-6 gap-2 mb-4">
        <input type="number" class="combo-input border border-gray-300 rounded px-2 py-2 text-center" min="1" max="56">
        <input type="number" class="combo-input border border-gray-300 rounded px-2 py-2 text-center" min="1" max="56">
        <input type="number" class="combo-input border border-gray-300 rounded px-2 py-2 text-center" min="1" max="56">
        <input type="number" class="combo-input border border-gray-300 rounded px-2 py-2 text-center" min="1" max="56">
        <input type="number" class="combo-input border border-gray-300 rounded px-2 py-2 text-center" min="1" max="56">
        <input type="number" class="combo-input border border-gray-300 rounded px-2 py-2 text-center" min="1" max="56">
      </div>
      <button id="evaluar-combinacion-btn" class="bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600">
        üéØ Evaluar Combinaci√≥n
      </button>
      <div id="resultado-combinacion" class="mt-4"></div>
    </div>
  </div>
  
  <!-- Log de debug -->
  <div class="bg-gray-800 text-white p-4 rounded-lg">
    <h3 class="font-bold mb-2">üìù Log de Debug:</h3>
    <div id="debug-log" class="text-sm font-mono"></div>
  </div>

  <script>
    // Funci√≥n de log
    function log(mensaje) {
      const debugLog = document.getElementById('debug-log');
      const timestamp = new Date().toLocaleTimeString();
      debugLog.innerHTML += `[${timestamp}] ${mensaje}<br>`;
      debugLog.scrollTop = debugLog.scrollHeight;
      console.log(mensaje);
    }
    
    log('üöÄ Script cargado');
    
    // Test de elementos DOM
    document.addEventListener('DOMContentLoaded', function() {
      log('üìã DOM cargado, verificando elementos...');
      
      const elementos = {
        'trigger-numero-individual': document.getElementById('trigger-numero-individual'),
        'content-numero-individual': document.getElementById('content-numero-individual'),
        'numero-individual': document.getElementById('numero-individual'),
        'evaluar-numero-btn': document.getElementById('evaluar-numero-btn'),
        'trigger-combinacion': document.getElementById('trigger-combinacion'),
        'content-combinacion': document.getElementById('content-combinacion'),
        'evaluar-combinacion-btn': document.getElementById('evaluar-combinacion-btn'),
        'resultado-numero': document.getElementById('resultado-numero'),
        'resultado-combinacion': document.getElementById('resultado-combinacion')
      };
      
      for (const [id, elemento] of Object.entries(elementos)) {
        log(`${id}: ${elemento ? '‚úÖ ENCONTRADO' : '‚ùå NO ENCONTRADO'}`);
      }
      
      // Configurar acorde√≥n
      log('üîß Configurando acorde√≥n...');
      const triggers = document.querySelectorAll('[id^="trigger-"]');
      log(`Triggers encontrados: ${triggers.length}`);
      
      triggers.forEach(trigger => {
        trigger.addEventListener('click', function(e) {
          log(`üñ±Ô∏è CLICK en trigger: ${trigger.id}`);
          
          const contentId = trigger.id.replace('trigger-', 'content-');
          const content = document.getElementById(contentId);
          const icon = trigger.querySelector('svg');
          
          if (content) {
            const isHidden = content.classList.contains('hidden');
            log(`Contenido ${contentId} est√° ${isHidden ? 'oculto' : 'visible'}`);
            
            // Cerrar todas las secciones
            document.querySelectorAll('[id^="content-"]').forEach(c => {
              c.classList.add('hidden');
            });
            
            // Resetear iconos
            document.querySelectorAll('[id^="trigger-"] svg').forEach(i => {
              if (i) i.style.transform = 'rotate(0deg)';
            });
            
            // Abrir la secci√≥n clickeada si estaba cerrada
            if (isHidden) {
              content.classList.remove('hidden');
              if (icon) icon.style.transform = 'rotate(180deg)';
              log(`‚úÖ Abriendo contenido: ${contentId}`);
            } else {
              log(`‚ùå Cerrando contenido: ${contentId}`);
            }
          } else {
            log(`‚ùå No se encontr√≥ contenido para: ${contentId}`);
          }
        });
      });
      
      // Configurar bot√≥n n√∫mero individual
      const btnNumero = document.getElementById('evaluar-numero-btn');
      if (btnNumero) {
        btnNumero.addEventListener('click', function(e) {
          log('üéØ CLICK en bot√≥n evaluar n√∫mero');
          
          const input = document.getElementById('numero-individual');
          const resultado = document.getElementById('resultado-numero');
          
          if (input && resultado) {
            const numero = parseInt(input.value);
            log(`N√∫mero ingresado: ${numero}`);
            
            if (isNaN(numero) || numero < 1 || numero > 56) {
              resultado.innerHTML = '<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">‚ö†Ô∏è N√∫mero inv√°lido (1-56)</div>';
              log('‚ùå N√∫mero inv√°lido');
            } else {
              resultado.innerHTML = `<div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded">‚úÖ ¬°Funciona! N√∫mero: ${numero}</div>`;
              log(`‚úÖ N√∫mero procesado correctamente: ${numero}`);
            }
          } else {
            log('‚ùå No se encontraron elementos input o resultado');
          }
        });
        log('‚úÖ Event listener para n√∫mero agregado');
      } else {
        log('‚ùå No se encontr√≥ bot√≥n evaluar n√∫mero');
      }
      
      // Configurar bot√≥n combinaci√≥n
      const btnCombinacion = document.getElementById('evaluar-combinacion-btn');
      if (btnCombinacion) {
        btnCombinacion.addEventListener('click', function(e) {
          log('üéØ CLICK en bot√≥n evaluar combinaci√≥n');
          
          const inputs = document.querySelectorAll('.combo-input');
          const resultado = document.getElementById('resultado-combinacion');
          
          log(`Inputs encontrados: ${inputs.length}`);
          
          if (resultado) {
            const numeros = Array.from(inputs)
              .map(input => parseInt(input.value))
              .filter(num => !isNaN(num));
            
            log(`N√∫meros v√°lidos: ${numeros.length}/6 - [${numeros.join(', ')}]`);
            
            if (numeros.length !== 6) {
              resultado.innerHTML = `<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">‚ö†Ô∏è Faltan n√∫meros (${numeros.length}/6)</div>`;
              log('‚ùå No hay 6 n√∫meros');
            } else if (new Set(numeros).size !== 6) {
              resultado.innerHTML = '<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">‚ö†Ô∏è N√∫meros duplicados</div>';
              log('‚ùå N√∫meros duplicados');
            } else if (numeros.some(n => n < 1 || n > 56)) {
              resultado.innerHTML = '<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">‚ö†Ô∏è N√∫meros fuera de rango (1-56)</div>';
              log('‚ùå N√∫meros fuera de rango');
            } else {
              resultado.innerHTML = `<div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded">‚úÖ ¬°Funciona! Combinaci√≥n: ${numeros.join(' - ')}</div>`;
              log(`‚úÖ Combinaci√≥n procesada correctamente: ${numeros.join(' - ')}`);
            }
          } else {
            log('‚ùå No se encontr√≥ elemento resultado');
          }
        });
        log('‚úÖ Event listener para combinaci√≥n agregado');
      } else {
        log('‚ùå No se encontr√≥ bot√≥n evaluar combinaci√≥n');
      }
      
      log('‚úÖ Configuraci√≥n completada');
    });
  </script>
</body>
</html>
